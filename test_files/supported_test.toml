# This file contains the supported OS images, and the default build config for 
# each supported distribution, distro.
#
# To add another supported distribution, distro, the information about the 
# supported distribution releases, architectures, and images, along with any 
# distro specific settings must be added to this file in addition to adding
# the code to support the distro.

[distro]

	[distro.ubuntu]
	base_url = "http://releases.ubuntu.com/"
	description = "Test supported distribution template"
       	arch = [
       		"i386",
       		"amd64"
       	]
       	image = [
       		"desktop",
       		"server",
       		"alternate"
       	]
       	release = [
       		"10.04",
       		"12.04",
       		"12.10",
       		"13.04",
       		"13.10"
       	]
       	default_image = [
       		"version = 12.04",
       		"image = server",
       		"arch = amd64",
       	]
	[distro.ubuntu.builders]			
		[distro.ubuntu.builders.common]
		settings = [
		    	"boot_command = :commands_dir/boot.command",
	    		"shutdown_command = :commands_dir/shutdown.command"
		]
		[distro.ubuntu.builders.virtualbox-iso]
		vm_settings = [
			"memory=2048"
		]
		[distro.ubuntu.builders.vmware-iso]
		vm_settings = [
			"memory=2048"
		]
	[distro.ubuntu.post_processors]
		[distro.ubuntu.post_processors.vagrant]
		settings = [
			"output = :out_dir/:type-:arch-:version-:image-packer.box"
		]
		[distro.ubuntu.provisioners]
			[distro.ubuntu.provisioners.shell]
			settings = [
				"execute_command = :commands_dir/execute.command"
			]
			scripts = [ 
				":scripts_dir/setup.sh",
				":scripts_dir/base.sh",
				":scripts_dir/vagrant.sh",
				":scripts_dir/cleanup.sh",
				":scripts_dir/zerodisk.sh"
			]

	[distro.centos]
	base_url = "http://www.centos.org/pub/centos/"
	description = "Test template config and Rancher options for CentOS"
	out_dir = "out/centos"
	src_dir = "src/centos"
	arch = [
	        "i386",
	        "x86_64"
	]
	image = [
	        "minimal",
	        "netinstall"
	]
	release = [
	        "5.10",
        	"6.5"
	]
	default_image = [
	    	"version = 6.5",
	    	"image = minimal",
	    	"arch = x86_64",
	]
